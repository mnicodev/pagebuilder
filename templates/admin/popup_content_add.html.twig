
{% form_theme form 'bootstrap_4_layout.html.twig' %}



    {% if bloc is defined %}
<script src={{ asset('js/admin/ckeditor/ckeditor.js') }}></script>
<div class="jumbotron">
    <div class="display-8">Ajout d'un contenu</div>
	{{ form_start(form) }}
		<input type="hidden" id="bloc" value="{{ bloc }}">
        <input type="hidden" id="id" value="{{ id }}">
	{{ form_widget(form.data) }}
    <div class="row">
        <div class="col-sm-6">
			{{ form_row(form.valider) }}
        </div>
        <div class="col-sm-6">
			{{ form_row(form.fermer) }}

        </div>

    </div>
	{{ form_end(form) }}


</div>

    <iframe id="data" name="data" style="width:300px;display:none"></iframe>
        <script>
            CKEDITOR.replace("form_data", {
    			extraPlugins : 'autogrow',
    			removePlugins : 'resize',
    			entities : false
			});
			parent.close();
			parent.validate_form();

        </script>

    {% endif %}
    {% if str is defined %}

        <script>
            window.onload=function() {
                bloc=parent.document.getElementById("bloc").value
                id=parent.document.getElementById("id").value;
				if(id) {
					parent.document.getElementById(id).innerHTML="{{ str|raw }}";
					parent.document.getElementById("popup").style.display="none";
					parent.action_content();

				} else {
				
					uniqid=(new Date().getTime()).toString(16);
					content=document.createElement("div");
					content.setAttribute("id",uniqid);
					content.classList.add("content");
					content.innerHTML="{{ str|raw }}";
					parent.document.getElementById(bloc).appendChild(content);
					parent.document.getElementById("popup").style.display="none";
					parent.action_content();
				}



            }
        </script>

    {%  endif %}


